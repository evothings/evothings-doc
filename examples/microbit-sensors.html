<!DOCTYPE html>
<html>
<!--
File: microbit-sensors.html
Description: Evothings Examples documentation.
Author: Göran Krampe
Copyright (c) 2016 Evothings AB
-->
<head>
<meta charset="utf-8">
<script src="../js/include-head.js"></script>
<title>Microbit Sensors Example</title>
</head>

<body>

<div class="evo-page">
<script src="../js/include-page-header.js"></script>
<div class="evo-content">
<script src="../js/include-example-menu.js"></script>

<div class="evo-box">
	<h1>Microbit Sensors</h1>

	<p><b>Microbit Sensors demo.</b>This app demonstrates how to scan for and communicate with a Microbit over BLE and read and display a range of sensor data from it.<p>

	</p>You must run this app in Evothings Viewer, or build a Cordova app with the plugin com.evothings.ble. iOS device or Android device with support for Bluetooth 4.0 and Android 4.3 or higher required.</p>

	<img class="img-example-screenshot" src="images/microbit-sensors-screenshot.png"/>
</div>

<div class="evo-box">
	<h2>Source code</h2>

	<p>You can browse the source code for this example at the
	<a href="https://github.com/evothings/evothings-examples/tree/2.1.0-alpha/examples/microbit-sensors">Evothings GitHub repository</a></p>

	<p>The file <a href="https://github.com/evothings/evothings-examples/tree/2.1.0-alpha/examples/microbit-sensors/index.html">index.html</a> is the main HTML file of the app.</p>

	<p>In file <a href="https://github.com/evothings/evothings-examples/tree/2.1.0-alpha/examples/microbit-sensors/app.js">app.js</a> you will find the JavaScript code for the app.</p>
</div>

<div class="evo-box">
	<h2>What you need</h2>

	<img style="width:100px;height:auto;float:right;" src="images/microbit.png"/>

	<p>This example runs in Evothings Viewer on Android or iOS.</p>

	<p>You need to run the example in Evothings Viewer. Alternatively, you can make a Cordova application if you wish to distribute the app. You then need to include the Cordova plugin com.evothings.ble. Read more in the documentation of the <a href="../studio/evothings-viewer.html">Evothings Viewer</a>.</p>

	<p>An iOS device or an Android device with support for Bluetooth 4.0 (which includes BLE) is required. For Android version 4.3 or later is needed. Please note that BLE support on Android is still not fully mature. As a result, you may experience difficulties running this example. If the app stops working, restart Evothings Viewer and/or reset Bluetooth on the device.</p>

	<p>You also need a <a href="https://www.microbit.co.uk">Microbit</a> device.</p>
	
	<h3>Pairing up</h3>

  <p>Here are some things you need to know about how to connect your micro:bit. First of all, a micro:bit is meant for operations in schools and other environments that need to be safe, and where it's possible that there are a lot of micro:bits transmitting at the same time. As a precaution, a micro:bit will therefore whitelist any paired devices, so any device without a bond won’t be able to connect. Period.  Also note that when a device has no bonds, it won’t even bother advertising. Once it has created one or more bonds to other devices, it will advertise anonymously as "BBC micro:bit". It also means that encryption is required at all times.</p>

<ul>
<li>Pairing app for <a href="https://play.google.com/store/apps/details?id=com.samsung.microbit">Android</a></li><br />
<li>Pairing app for <a href="https://itunes.apple.com/gb/app/micro-bit/id1092687276?mt=8">iOS</a></li>
</ul>

<p>The actual pairing can be carried out using the "offical" micro:bit mobile app, graciously provided by Samsung. Pairing is only permitted in a special pairing mode, which you enter by holding down both buttons on each side of the LED screen (called A & B), and pressing reset with your other fingers, or nose. The 5x5 LED screen will say "PAIRING MODE" and show a pattern, which is copied by hand to the pairing view inside the micro:bit app on Android or iOS. Follow the rest of the on-screen instructions to pair up your micro:bit and your phone.</p>
<p>Micro:bit now advertises as BBC micro:bit[xxxxx], where xxxxx is a friendly name.</p>

<i>Note; You can of course make your own firmware using ARM's mbed framework which has less tight security in place. This and other tools for embedded development can be found on <a href="https://www.microbit.co.uk">BBCs official site for the Micro:bit</a></i>.
</div>

<div class="evo-box">
	<h2>How to get up and running</h2>

	<p>Follow these steps to get started with this example:</p>
	<ul>
    <li>First make sure your micro:bit is paired according to the instructions above.</li>
		<li>Launch the Evothings Workbench on your desktop/laptop computer.</li>
		<li>Launch Evothings Viewer on an Android mobile device and connect to the Workbench.</li>
		<li>Run the example "Microbit Sensors" from the Workbench window.</li>
		<li>Start the scan by pressing the "Connect" button.</li>
		<li>If everything works, the app should automatically detect the Microbit and start displaying a range of sensors data from the Microbit.</li>
	</ul>
</div>

<script src="../js/include-page-footer.js"></script>
</div><!-- evo-page-content -->
</div><!-- evo-page -->

</body>
</html>
